import { UsersApi } from "../constants/apiEndPoints";
import mock from "./mock";

const data = [
  {
    editMode: false,
    id: 1,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Chitagong",
    selected: false,
  },
  {
    editMode: false,
    id: 2,
    name: "Ahmed Nasir",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 3,
    name: "Nasif Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 4,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 5,
    name: "Ahmed Nasif",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 6,
    name: "Omar Faruk",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 7,
    name: "Faruk Omar",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 8,
    name: "Ashraf Chy",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 9,
    name: "Chy Ashraf",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 10,
    name: "Azad Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 11,
    name: "Ahmed Azad",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 12,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 13,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 14,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 15,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 16,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 17,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 18,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 19,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 20,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 21,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 22,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 23,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 24,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
  {
    editMode: false,
    id: 25,
    name: "Nasir Ahmed",
    email: "nasir@mail.com",
    phone: "01234456789",
    address: "Dhaka",
    selected: false,
  },
];

mock.onGet(UsersApi.get).reply((config) => {
  const {
    params: { page, perPage },
  } = config;
  const filtered = data.slice((page - 1) * perPage, (page - 1 + 1) * perPage);

  return [200, { succeeded: true, data: filtered, total: data.length }];
});

mock.onDelete(UsersApi.delete_range).reply((config) => {
  const {
    params: { selectedRows },
  } = config;

  const rowIds = selectedRows.map((row) => row.id);
  const filteredData = data.filter((item) => !rowIds.includes(item.id));

  return [
    200,
    { succeeded: true, data: filteredData, total: filteredData.length },
  ];
});
